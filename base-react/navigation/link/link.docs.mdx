---
description: 'A standard, cross routing system Link'
labels: ['react', 'routing', 'link', 'context', 'nav']
---

import { RouterProvider } from './routing-provider';
import { Link } from './link';

Routing systems have different approaches to routing, and each provide their own Link. If you use this link in your component,
it will lock the component into to that specifc routing framework.  
For example, a Card component could use a Link to direct users to a certain page.
Using a [NextJS Link](https://nextjs.org/docs/api-reference/next/link) would prevent the card from being used in an React Router application,
because expects a [React Router Link](https://v5.reactrouter.com/web/api/Link).

To allow components to work accross applications, simply use this link and inject the relevant implementation at the app level.

## Basic usage

When the Routing Provider is absent, the Link defaults to a native `a` tag.  
This way, components using this Link will always work, even without context.

```tsx
import { Link } from '@teambit/base-react.navigation.link';

function App() {
  return (
    <>
      {/* this will render <a href="plguins">Click me!</a> */}
      <Link href="/plugins">Click me!</Link>
    </>
  );
}
```

### Using the link with React Router

For using `react-router`, use our existing implementation - [React Router Adapter](https://bit.dev/teambit/ui-foundation/ui/navigation/react-router-adapter).  
Note that you will have to provide the context needed for React Router, and perform routing the with the tools provided by react-router.

```tsx
import { BrowserRouter, Route, Routes } from 'react-router-dom';
import { RoutingProvider, Link } from '@teambit/base-react.navigation.link';
import { reactRouterAdapter } from '@teambit/ui-foundation.ui.navigation.react-router-adapter';

export function App() {
  return (
    <BrowserRouter>
      <RoutingProvider implementation={reactRouterAdapter}>
        {/* this link won't refresh the entire page, and will use the React Router link. */}
        <Link href="/plugins">Click me!</Link>

        <Switch>
          <Route path="/plugins">plugins</Route>
        </Switch>
      </RoutingProvider>
    </BrowserRouter>
  );
}
```

### Using with NextJS

Coming soon..

### Custom usage

To tailor an implementation to your needs, declare these variables:

```tsx
import { RouterContextType, useRouter } from '@teambit/base-react.navigation.link';

const externalAttr = { rel: 'noopener', target: '_blank' };

const vanillaRouting: RouterContextType = {
  Link: ({ href, children, active, activeClassName, activeStyle }) => {
    const location = vanillaRouting.useLocation();
    const isActive = active ?? (href && location?.pathname && href.includes(location.pathname));

    return <a href={href} className={isActive && activeClassName} style={isActive && activeStyle}>{children}</a>
  }
  useLocation: () => {
    return typeof window === 'undefined' ? undefined : window.location;
  },
};
```

This is obviously, a naive implementation, but you can now use it in your code:

```tsx
import { vanillaRouting } from '@org/core-react.navigation.vanilla-routing';
import { RouterProvider, Link, LinkProps, useLocation } from '@teambit/base-react.navigation.link';

function App() {
  return (
    <RouterProvider implementation={vanillaRouting}>
      <NavTab href="/plugins">plugins</NavTab>
      <PluginsPage />
    </RouterProvider>
  );
}

function NavTab(props: LinkProps) {
  return <Link activeStyle={{ background: 'lightblue' }} {...props} />;
}

function PluginsPage() {
  const { pathname } = useLocation() || {};

  if (pathname != '/plugins') return null;
  return <div>Settings page</div>;
}
```

Try it out!

```tsx live
() => {
  const routingA = {
    Link: ({ children, ...props }) => <a {...props}>{children} ðŸ”—</a>,
  };

  const routingB = {
    Link: ({ style, children, ...props }) => (
      <a {...props} style={{ textDecoration: 'underline', fontWeight: 'bolder', cursor: 'pointer', ...style }}>
        {children} âœ¦
      </a>
    ),
  };

  return (
    <div>
      <RouterProvider implementation={routingA}>
        <Link>A Link</Link>
      </RouterProvider>

      <br />

      <RouterProvider implementation={routingB}>
        <Link>B Link</Link>
      </RouterProvider>
      <br />
    </div>
  );
};
```
